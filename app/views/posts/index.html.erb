<h1>All Posts</h1>

<%= link_to "Create New Post", new_post_path %>

<% if @posts.any? %>
  <ul>
    <% @posts.each do |post| %>
      <li>
        <h2><%= link_to post.title, post_path(post) %></h2>
        <p><%= post.content.truncate(100) %></p> <!-- Show preview of content -->
        <p><strong>Posted by:</strong> <%= post.sending_user.full_name %></p>
        <p><small>Posted on: <%= post.created_at.strftime("%B %d, %Y %I:%M %p") %></small></p>

        <h3>Specialties:</h3>
        <% if post.specialties&.any? %> 
        <ul>
            <% post.specialties.each do |specialty| %>
            <li><%= specialty.name %></li>
            <% end %>
        </ul>
        <% else %>
        <p>No specialties assigned.</p>
        <% end %>
      </li>
    <% end %>
  </ul>
<% else %>
  <p>No posts available. Be the first to <%= link_to "create a new post", new_post_path %>!</p>
<% end %>
